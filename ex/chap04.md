---
title: 第4章 協調ベース推薦システム～近傍ベース協調フィルタリング～
layout: default
---

{% include header.html %}

# 第4章 協調ベース推薦システム～近傍ベース協調フィルタリング～

**表4.1**はユーザ-寿司評価値行列である。各行はユーザ$$u$$を、各列はアイテム$$i$$を表す。行列の$$(u, i)$$成分は、ユーザ$$u$$がアイテム$$i$$に与えた評価値$$r_{u,i} \in \{1, 2, 3, 4, 5\}$$を表す。
ただし、$$?$$となっている成分は欠損値であることを表す。このとき、次の問いに答えなさい。

**表4.1 ユーザ-寿司評価値行列**

| アイテムID $$i$$ | アイテム名 | いちご$$x_{i,1}$$ | ラズベリー$$x_{i,2}$$ | バナナ$$x_{i,3}$$ | チョコ$$x_{i,4}$$ | ホイップ$$x_{i,5}$$ | カスタード$$x_{i,6}$$ | 評価値$$r_{2,i}$$ |
| ---------- | ---------- | ------ | ---------- | ------ | ------ | -------- | ---------- | ------ |
| 1 | いちごクレープ | 1 | 0 | 0 | 0 | 1 | 0 | ? |
| 2 | ラズベリークレープ | 0 | 1 | 0 | 0 | 1 | 0 | ? |
| 3 | ダブルベリークレープ | 1 | 1 | 0 | 0 | 1 | 0 | ? |
| 4 | いちごチョコクレープ | 1 | 0 | 0 | 1 | 1 | 0 | -1 |
| 5 | いちごカスタード | 1 | 0 | 0 | 0 | 0 | 1 | -1 |
| 6 | ラズベリーチョコカスタード | 0 | 1 | 0 | 1 | 0 | 1 | +1 |
| 7 | バナナクレープ | 0 | 0 | 1 | 0 | 1 | 0 | ? |
| 8 | チョコバナナクレープ | 0 | 0 | 1 | 1 | 1 | 0 | +1 |
| 9 | ラズベリーダブルクリーム | 0 | 1 | 0 | 0 | 1 | 1 | -1 |
| 10 | バナナカスタード | 0 | 0 | 1 | 0 | 0 | 1 | ? |
| 11 | ダブルベリーチョコクレープ | 1 | 1 | 0 | 1 | 1 | 0 | ? |
| 12 | バナナダブルクリーム | 0 | 0 | 1 | 0 | 1 | 1 | ? |
| 13 | ラズベリーチョコバナナクレープ | 0 | 1 | 1 | 1 | 1 | 0 | +1 |

## 1. ルールベース分類器

Brunoの訓練データおよび予測対象データを集合で表現すると、それぞれ**表3.b**、**表3.c**のとおりとなる。このとき、次の問いに答えなさい。

**表3.b 集合表現によるBrunoの訓練データ**

| $$i$$ | $$X_{i}$$ | $$r_{2,i}$$ |
| ----- | --------- | ----------- |
| 4 | {いちご, チョコ, ホイップ} | -1 |
| 5 | {いちご, カスタード} | -1 |
| 6 | {ラズベリー, チョコ, カスタード} | +1 |
| 8 | {バナナ, チョコ, ホイップ} | +1 |
| 9 | {ラズベリー, ホイップ, カスタード} | -1 |
| 13 | {ラズベリー, バナナ, チョコ, ホイップ} | +1 |

**表3.c 集合表現によるBrunoの予測対象データ**

| $$i$$ | $$X_{i}$$ | $$r_{2,i}$$ |
| ----- | --------- | ----------- |
| 1 | {いちご, ホイップ} | ? |
| 2 | {ラズベリー, ホイップ} | ? |
| 3 | {いちご, ラズベリー, ホイップ} | ? |
| 7 | {バナナ, ホイップ} | ? |
| 10 | {バナナ, カスタード} | ? |
| 11 | {いちご, ラズベリー, チョコ, ホイップ} | ? |
| 12 | {バナナ, ホイップ, カスタード} | ? |


### 演習問題1
次の各ルールの出現頻度を求めなさい。

#### (1) ルール$$\{\text{チョコ}\} \Rightarrow r = +1$$

#### (2) ルール$$\{\text{チョコ}, \text{ホイップ}, \text{バナナ}\} \Rightarrow r = +1$$

#### (3) ルール$$\{\text{いちご}, \text{チョコ}\} \Rightarrow r = -1$$

